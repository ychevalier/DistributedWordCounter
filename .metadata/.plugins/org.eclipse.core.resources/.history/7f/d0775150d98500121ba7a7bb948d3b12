package Application;


import Listeners.RegisterSlaveListener;
import Network.FromSlave.RegisterServer;
import Model.Slave;
import Network.FromClient.QueryServer;
import System.Config;

public class WCMasterApp implements RegisterSlaveListener {

	static int mFileCounter = 0;

	public static synchronized int getFileCount() {
		return mFileCounter++;
	}

	static int mResultPortCounter = 0;

	public static synchronized int getResultPortCount() {

		return Config.RESULT_MIN_PORT_NUMBER
				+ (mResultPortCounter++ % (Config.RESULT_MAX_PORT_NUMBER - Config.RESULT_MIN_PORT_NUMBER));
	}
	
	public static boolean amIReady() {
		return true;
	}

	public static void main(String[] args) {

		System.out.println("### Master ###");

		System.out.println("Launching Query Server");
		Thread tQ = new Thread(new QueryServer());
		tQ.start();
		
		Thread tR = new Thread(new RegisterServer());
		tR.start();

	}

	@Override
	public synchronized void addSlave(Slave s) {
		// TODO Auto-generated method stub
		
	}

}
